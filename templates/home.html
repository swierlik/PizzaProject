<!-- templates/home.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home - Pizza Ordering</title>
</head>
<body>
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul>
          {% for message in messages %}
            <li style="color: green;">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}
    {% if 'customer_id' in session %}
        <p>Welcome, {{ session['customer_name'] }}! <a href="{{ url_for('logout') }}">Logout</a></p>
    {% else %}
        <a href="{{ url_for('login') }}">Login</a> |
        <a href="{{ url_for('register') }}">Register</a>
    {% endif %}

    <h1>Menu</h1>
    <form action="{{ url_for('place_order') }}" method="post">
        <h2>Pizzas</h2>
        {% for pizza in pizzas %}
            <div>
                <strong>{{ pizza.Name }}</strong> - ${{ pizza.Price }}<br>
                {{ pizza.Description }}<br>
                Quantity: <input type="number" name="quantity_pizza_{{ pizza.PizzaID }}" min="0" value="0"><br><br>
            </div>
        {% endfor %}

        <h2>Drinks</h2>
        {% for drink in drinks %}
            <div>
                <strong>{{ drink.Name }}</strong> - ${{ drink.Price }}<br>
                Quantity: <input type="number" name="quantity_drink_{{ drink.DrinkID }}" min="0" value="0"><br><br>
            </div>
        {% endfor %}

        <h2>Desserts</h2>
        {% for dessert in desserts %}
            <div>
                <strong>{{ dessert.Name }}</strong> - ${{ dessert.Price }}<br>
                Quantity: <input type="number" name="quantity_dessert_{{ dessert.DessertID }}" min="0" value="0"><br><br>
            </div>
        {% endfor %}

        <button type="submit">Place Order</button>
    </form>
</body>
</html>
