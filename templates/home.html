<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Home - Pizza Ordering</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>

    <header>
        <h1>Pizza Ordering System</h1>
    </header>

    <nav>
        <a href="{{ url_for('home') }}">Home</a>
        {% if 'customer_id' in session %}
            <a href="{{ url_for('logout') }}">Logout</a>
            <span>Welcome, {{ session['customer_name'] }}!</span>
        {% else %}
            <a href="{{ url_for('login') }}">Login</a>
            <a href="{{ url_for('register') }}">Register</a>
        {% endif %}
    </nav>

    <div class="container">
        {% with messages = get_flashed_messages() %}
          {% if messages %}
            <div class="alert success">
              {% for message in messages %}
                <p>{{ message }}</p>
              {% endfor %}
            </div>
          {% endif %}
        {% endwith %}

        <h2>Menu</h2>

        <form action="{{ url_for('place_order') }}" method="post">
            <div class="product-section">
                <h3>Pizzas</h3>
                {% for pizza in pizzas %}
                    <div class="product-item">
                        <h3>{{ pizza.Name }}</h3>
                        <p>{{ pizza.Description }}</p>
                        <p><strong>Price:</strong> ${{ pizza.Price }}</p>
                        <label for="quantity_pizza_{{ pizza.PizzaID }}">Quantity:</label>
                        <input type="number" name="quantity_pizza_{{ pizza.PizzaID }}" id="quantity_pizza_{{ pizza.PizzaID }}" min="0" value="0">
                    </div>
                {% endfor %}
            </div>

            <div class="product-section">
                <h3>Drinks</h3>
                {% for drink in drinks %}
                    <div class="product-item">
                        <h3>{{ drink.Name }}</h3>
                        <p><strong>Price:</strong> ${{ drink.Price }}</p>
                        <label for="quantity_drink_{{ drink.DrinkID }}">Quantity:</label>
                        <input type="number" name="quantity_drink_{{ drink.DrinkID }}" id="quantity_drink_{{ drink.DrinkID }}" min="0" value="0">
                    </div>
                {% endfor %}
            </div>

            <div class="product-section">
                <h3>Desserts</h3>
                {% for dessert in desserts %}
                    <div class="product-item">
                        <h3>{{ dessert.Name }}</h3>
                        <p><strong>Price:</strong> ${{ dessert.Price }}</p>
                        <label for="quantity_dessert_{{ dessert.DessertID }}">Quantity:</label>
                        <input type="number" name="quantity_dessert_{{ dessert.DessertID }}" id="quantity_dessert_{{ dessert.DessertID }}" min="0" value="0">
                    </div>
                {% endfor %}
            </div>

            <button type="submit">Place Order</button>
        </form>
    </div>

    <footer class="footer">
        <p>&copy; 2023 Pizza Ordering System</p>
    </footer>
</body>
</html>
